<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{{ page.title | default: site.title }}</title>
<meta name="description" content="{{ page.description | default: site.description }}">

<!-- Preload critical fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=JetBrains+Mono:wght@400;600&display=swap" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet"></noscript>

<!-- Main stylesheet (Jekyll-compiled SCSS) -->
<link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}">

<!-- Canonical -->
<link rel="canonical" href="{{ site.url }}{{ page.url }}">

<!-- Favicon -->
<link rel="icon" href="{{ '/assets/images/favicon.svg' | relative_url }}" type="image/svg+xml">
<link rel="apple-touch-icon" href="{{ '/assets/images/apple-touch-icon.png' | relative_url }}">
<meta name="theme-color" content="#0B0F14" media="(prefers-color-scheme: dark)">
<meta name="theme-color" content="#F9FAFB" media="(prefers-color-scheme: light)">

<!-- OpenGraph -->
{%- assign og_image = page.image | default: site.og_image | default: '/assets/images/og-default.png' -%}
<meta property="og:title" content="{{ page.title | default: site.title }}">
<meta property="og:description" content="{{ page.description | default: site.description }}">
<meta property="og:type" content="{% if page.layout == 'post' %}article{% else %}website{% endif %}">
<meta property="og:url" content="{{ site.url }}{{ page.url }}">
<meta property="og:image" content="{{ site.url }}{{ og_image }}">
<meta property="og:site_name" content="{{ site.title }}">
<meta property="og:locale" content="en_US">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="{{ page.title | default: site.title }}">
<meta name="twitter:description" content="{{ page.description | default: site.description }}">
<meta name="twitter:image" content="{{ site.url }}{{ og_image }}">

<!-- JSON-LD structured data -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebSite",
      "url": "{{ site.url }}",
      "name": "{{ site.title }}",
      "description": "{{ site.description }}"
    },
    {
      "@type": "Person",
      "name": "{{ site.author }}",
      "url": "{{ site.url }}",
      "jobTitle": "{{ site.role }}",
      "sameAs": [
        {% for link in site.social %}"{{ link.url }}"{% unless forloop.last %},{% endunless %}{% endfor %}
      ]
    }
  ]
}
</script>

<!-- Theme: apply saved theme before paint to avoid FOUC -->
<script>
  (function(){
    var t = localStorage.getItem('theme');
    document.documentElement.setAttribute('data-theme', t === 'light' ? 'light' : 'dark');
  })();
</script>
